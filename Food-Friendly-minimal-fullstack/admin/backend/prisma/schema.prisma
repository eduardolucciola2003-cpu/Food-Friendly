generator client { provider = "prisma-client-js" }
datasource db { provider = "postgresql"; url = env("DATABASE_URL") }

model Restaurant {
  id        String    @id @default(cuid())
  name      String
  address   String
  isVegOnly Boolean   @default(false)
  isActive  Boolean   @default(true)
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  menuItems MenuItem[]
}

model MenuItem {
  id           String     @id @default(cuid())
  restaurantId String
  restaurant   Restaurant @relation(fields: [restaurantId], references: [id], onDelete: Cascade)
  name         String
  description  String     @default("")
  priceCents   Int
  diet         Diet
  isHalal      Boolean
  isActive     Boolean    @default(true)
  createdAt    DateTime   @default(now())
  updatedAt    DateTime   @updatedAt

  @@index([restaurantId])
  @@index([diet])
  @@index([isHalal])
  @@index([diet, isHalal])
}

enum Diet { veg non_veg }
